# Double Loop: Две петли

## Концепция

DLD (Double Loop Delivery) — операционная модель из двух петель:

```
┌─────────────────────────────────────────────────────────────────┐
│                    ПЕТЛЯ 1: Автономная                          │
│                    (Execution Loop)                             │
│                                                                 │
│   backlog → spec → код/тесты → dev-deploy → автопроверки       │
│      ↑                                              │           │
│      └──────────────────────────────────────────────┘           │
│                    (без участия человека)                       │
└─────────────────────────────────────────────────────────────────┘
                              ↓
                      готово для UX-прогона
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                    ПЕТЛЯ 2: Человеческая                        │
│                    (Sensemaking Loop)                           │
│                                                                 │
│   UX-тест → неудобства/aha → решения → новые смыслы → backlog  │
│      ↑                                              │           │
│      └──────────────────────────────────────────────┘           │
│                    (только предприниматель)                     │
└─────────────────────────────────────────────────────────────────┘
```

---

## Петля 1: Автономная

**Цель:** Довести задачу до dev-результата без дёргания человека.

**Поток:**
1. Задача из backlog
2. Planner уточняет и создаёт spec
3. Developer реализует
4. Tester проверяет
5. Supervisor контролирует
6. Deploy в dev

**Ключевое:** Человек не участвует до момента UX-проверки.

---

## Петля 2: Человеческая

**Цель:** Генерация смыслов через живое тестирование.

**Поток:**
1. Предприниматель тестирует как пользователь
2. Ловит неудобства и aha-моменты
3. Принимает продуктовые решения
4. Формирует новые задачи → backlog

**Ключевое:** Предприниматель — финальный судья UX, не ремесленник.

---

## Скорость изменений

DLD решает **скорость изменений** — главную боль предпринимателя.

| Без DLD | С DLD |
|---------|-------|
| Идея → недели → результат | Идея → часы → результат |
| "Давайте обсудим" | "Давайте проверим" |
| Гипотезы в голове | Гипотезы в продукте |
| Страх менять | Легко менять |

---

## Качество реализации

DLD доводит фичу до состояния **"работает именно так, как задумано"**.

Почему это важно:
- Если фича плохая → видно, что **плохая идея**
- Если фича хорошая → видно, что **хорошая идея**
- Нет неопределённости "это идея плохая или реализация кривая?"

---

## Минимальные требования DLD v1

1. **Берёт фичу** — из backlog или голосом
2. **Делает реализацию** — код + тесты
3. **Прогоняет тестирование** — unit/integration/e2e
4. **Выдаёт dev-результат** — отражающий задумку, не компромисс

---

## Граница автономности

```
Вопросы к человеку:
├── "Зачем эта фича?" ← ДА (бизнес-смысл)
├── "Какой UX лучше?" ← ДА (продуктовое решение)
├── "3 или 5 секунд таймаут?" ← НЕТ (техническая деталь)
└── "SQL или NoSQL?" ← НЕТ (техническое решение)
```

Planner общается на языке **бизнес-логики и продукта**.
Технические детали — ответственность системы.

---

## Резюме

| Петля | Кто | Что делает |
|-------|-----|------------|
| Автономная | Агенты | Превращают задачу в работающий код |
| Человеческая | Предприниматель | Превращает опыт в новые задачи |

**Следующий шаг:** [02-agent-roles.md](02-agent-roles.md) — кто внутри автономной петли
